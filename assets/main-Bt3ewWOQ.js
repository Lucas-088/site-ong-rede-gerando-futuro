/* empty css              */(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function u(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(t){if(t.ep)return;t.ep=!0;const r=u(t);fetch(t.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{const p=document.getElementById("hamburger-btn"),l=document.getElementById("nav-menu");p&&l&&p.addEventListener("click",()=>{l.classList.toggle("is-open")});const u=document.getElementById("projects-container"),n=document.getElementById("favorites-container"),t=document.getElementById("sort-by"),r=document.getElementById("form-inscricao-projeto");if(u&&n&&t){const i=[{id:1,title:"Educação para Todos",raised:7500,image:"public/assets/images/criancas-estudando.jpg",description:"Levando educação de qualidade para comunidades carentes."},{id:2,title:"Sopa Solidária",raised:9800,image:"public/assets/images/distribuindo-alimentos.jpg",description:"Distribuição de alimentos para pessoas em situação de rua."},{id:3,title:"Cuidando do Planeta",raised:5200,image:"public/assets/images/plantando-arvore.jpg",description:"Projetos de reciclagem e limpeza de áreas verdes."}];let d=JSON.parse(localStorage.getItem("favoriteProjects"))||[];const v=()=>{localStorage.setItem("favoriteProjects",JSON.stringify(d))},f=e=>{const o=d.includes(e.id);return`
                <div class="card">
                    <img src="${e.image}" alt="Imagem do projeto ${e.title}" class="card-image">
                    <div class="card-content">
                        <h3 class="card-title">${e.title}</h3>
                        <p>${e.description.substring(0,100)}...</p>
                        <div class="card-footer">
                            <button class="btn btn-primary btn-saibamais" data-project-id="${e.id}">Saiba Mais</button>
                            <button 
                                class="btn btn-favorite ${o?"active":""}" 
                                data-project-id="${e.id}" 
                                aria-pressed="${o}"
                                aria-label="${o?"Desfavoritar projeto":"Favoritar projeto"}">
                                &#9733;
                            </button>
                        </div>
                    </div>
                </div>
            `},g=()=>{n.innerHTML="";const e=i.filter(o=>d.includes(o.id));e.length===0?n.innerHTML='<p class="empty-favorites">Você ainda não favoritou nenhum projeto.</p>':e.forEach(o=>{const s=f(o);n.insertAdjacentHTML("beforeend",s)})},b=e=>{u.innerHTML="",e.forEach(o=>{const s=f(o);u.insertAdjacentHTML("beforeend",s)})},m=()=>{const e=t.value;let o=[...i];e==="name-asc"?o.sort((s,a)=>s.title.localeCompare(a.title)):e==="raised-desc"&&o.sort((s,a)=>a.raised-s.raised),b(o)};t.addEventListener("change",m),document.body.addEventListener("click",e=>{const o=e.target.closest(".btn-favorite");if(o){const a=parseInt(o.dataset.projectId,10);d.includes(a)?d=d.filter(c=>c!==a):d.push(a),v(),m(),g();return}const s=e.target.closest(".btn-saibamais");if(s){const a=parseInt(s.dataset.projectId,10),c=i.find(E=>E.id===a),j=document.getElementById("modal-title"),y=document.getElementById("modal-description"),I=document.getElementById("project-id-input");j.textContent=c.title,y.textContent=c.description,I.value=c.id,new bootstrap.Modal(document.getElementById("project-details-modal")).show()}}),r&&r.addEventListener("submit",e=>{e.preventDefault();const o=document.getElementById("project-id-input").value,s=i.find(c=>c.id==o).title;alert(`Inscrição para o projeto "${s}" enviada com sucesso! Obrigado por se candidatar.`),bootstrap.Modal.getInstance(document.getElementById("project-details-modal")).hide(),r.reset()}),m(),g()}});
